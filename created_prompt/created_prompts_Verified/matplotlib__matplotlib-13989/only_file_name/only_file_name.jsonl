{"instance_id": "matplotlib__matplotlib-13989", "message": "Please look through the following GitHub problem description and Repository structure and provide a list of files that one would need to edit to fix the problem.\n\n### GitHub Problem Description ###\nhist() no longer respects range=... when density=True\n<!--To help us understand and resolve your issue, please fill out the form to the best of your ability.-->\r\n<!--You can feel free to delete the sections that do not apply.-->\r\n\r\n### Bug report\r\n\r\n**Bug summary**\r\n\r\n<!--A short 1-2 sentences that succinctly describes the bug-->\r\n\r\n**Code for reproduction**\r\n\r\n<!--A minimum code snippet required to reproduce the bug.\r\nPlease make sure to minimize the number of dependencies required, and provide\r\nany necessary plotted data.\r\nAvoid using threads, as Matplotlib is (explicitly) not thread-safe.-->\r\n\r\n```python\r\n_, bins, _ = plt.hist(np.random.rand(10), \"auto\", range=(0, 1), density=True)\r\nprint(bins)\r\n```\r\n\r\n**Actual outcome**\r\n\r\n<!--The output produced by the above code, which may be a screenshot, console output, etc.-->\r\n\r\n```\r\n[0.00331535 0.18930174 0.37528813 0.56127453 0.74726092 0.93324731]\r\n```\r\n\r\n**Expected outcome**\r\n\r\nSome array where the first value is 0 and the last one is 1.\r\n\r\nNote that this bug doesn't happen if density=False.\r\n\r\nBisects to https://github.com/matplotlib/matplotlib/pull/8638/commits/239be7b18e311c57a1393b6eeefc62b7cc629339 (#8638).\r\n\r\n**Matplotlib version**\r\n<!--Please specify your platform and versions of the relevant libraries you are using:-->\r\n  * Operating system: linux\r\n  * Matplotlib version: master\r\n  * Matplotlib backend (`print(matplotlib.get_backend())`): any\r\n  * Python version: 37\r\n  * Jupyter version (if applicable): no\r\n  * Other libraries: numpy 1.16.2\r\n\r\n<!--Please tell us how you installed matplotlib and python e.g., from source, pip, conda-->\r\n<!--If you installed from conda, please specify which channel you used if not the default-->\r\n\r\n\n\n\n###\n\n### Repository Structure ###\nmatplotlib/\n    setupext.py\n    setup.py\n    versioneer.py\ntutorials/\n    intermediate/\n        gridspec.py\n        constrainedlayout_guide.py\n        color_cycle.py\n        tight_layout_guide.py\n        legend_guide.py\n        imshow_extent.py\n        artists.py\n    introductory/\n        usage.py\n        customizing.py\n        images.py\n        sample_plots.py\n        lifecycle.py\n        pyplot.py\n    advanced/\n        path_tutorial.py\n        patheffects_guide.py\n        transforms_tutorial.py\n    toolkits/\n        mplot3d.py\n        axisartist.py\n        axes_grid.py\n    colors/\n        colors.py\n        colormapnorms.py\n        colormap-manipulation.py\n        colormaps.py\n        colorbar_only.py\n    text/\n        annotations.py\n        pgf.py\n        text_intro.py\n        text_props.py\n        mathtext.py\n        usetex.py\ntools/\n    make_icons.py\n    gh_api.py\n    boilerplate.py\n    memleak.py\n    compare_backend_driver_results.py\n    subset.py\n    github_stats.py\n    visualize_tests.py\n    triage_tests.py\ndoc/\n    conf.py\n    sphinxext/\n        __init__.py\n        math_symbol_table.py\n        github.py\n        mock_gui_toolkits.py\n        custom_roles.py\n        gallery_order.py\n        skip_deprecated.py\n    users/\n        generate_credits.py\nlib/\n    pylab.py\n    mpl_toolkits/\n        __init__.py\n        axes_grid/\n            axislines.py\n            grid_finder.py\n            floating_axes.py\n            __init__.py\n            axes_size.py\n            axisline_style.py\n            anchored_artists.py\n            angle_helper.py\n            axes_rgb.py\n            inset_locator.py\n            axis_artist.py\n            colorbar.py\n            clip_path.py\n            grid_helper_curvelinear.py\n            axes_divider.py\n            parasite_axes.py\n            axes_grid.py\n        axes_grid1/\n            __init__.py\n            axes_size.py\n            anchored_artists.py\n            axes_rgb.py\n            inset_locator.py\n            colorbar.py\n            mpl_axes.py\n            axes_divider.py\n            parasite_axes.py\n            axes_grid.py\n        mplot3d/\n            axis3d.py\n            proj3d.py\n            __init__.py\n            axes3d.py\n            art3d.py\n        axisartist/\n            axislines.py\n            grid_finder.py\n            floating_axes.py\n            __init__.py\n            axisline_style.py\n            angle_helper.py\n            axes_rgb.py\n            axis_artist.py\n            clip_path.py\n            grid_helper_curvelinear.py\n            axes_divider.py\n            parasite_axes.py\n            axes_grid.py\n    matplotlib/\n        _cm.py\n        dviread.py\n        docstring.py\n        mlab.py\n        colors.py\n        font_manager.py\n        _color_data.py\n        container.py\n        transforms.py\n        rcsetup.py\n        category.py\n        lines.py\n        units.py\n        type1font.py\n        hatch.py\n        streamplot.py\n        gridspec.py\n        scale.py\n        mathtext.py\n        _constrained_layout.py\n        bezier.py\n        markers.py\n        widgets.py\n        __init__.py\n        sankey.py\n        legend.py\n        axis.py\n        patheffects.py\n        fontconfig_pattern.py\n        pylab.py\n        backend_bases.py\n        table.py\n        offsetbox.py\n        spines.py\n        text.py\n        textpath.py\n        image.py\n        cm.py\n        _mathtext_data.py\n        path.py\n        animation.py\n        blocking_input.py\n        dates.py\n        artist.py\n        collections.py\n        ticker.py\n        legend_handler.py\n        backend_managers.py\n        _version.py\n        tight_layout.py\n        colorbar.py\n        backend_tools.py\n        texmanager.py\n        _layoutbox.py\n        quiver.py\n        patches.py\n        figure.py\n        contour.py\n        tight_bbox.py\n        pyplot.py\n        _pylab_helpers.py\n        _animation_data.py\n        _cm_listed.py\n        afm.py\n        stackplot.py\n        backends/\n            _backend_tk.py\n            backend_wx.py\n            qt_compat.py\n            backend_qt4cairo.py\n            backend_qt5.py\n            windowing.py\n            backend_tkcairo.py\n            backend_webagg_core.py\n            backend_wxagg.py\n            backend_tkagg.py\n            _backend_pdf_ps.py\n            backend_wxcairo.py\n            backend_webagg.py\n            backend_gtk3agg.py\n            backend_ps.py\n            __init__.py\n            backend_qt4agg.py\n            backend_gtk3.py\n            backend_agg.py\n            backend_qt5agg.py\n            backend_nbagg.py\n            backend_mixed.py\n            backend_qt5cairo.py\n            backend_cairo.py\n            backend_pdf.py\n            backend_template.py\n            tkagg.py\n            backend_macosx.py\n            backend_pgf.py\n            backend_gtk3cairo.py\n            wx_compat.py\n            backend_qt4.py\n            backend_svg.py\n            qt_editor/\n                formsubplottool.py\n                __init__.py\n                _formlayout.py\n                figureoptions.py\n                formlayout.py\n        compat/\n            __init__.py\n            subprocess.py\n        sphinxext/\n            mathmpl.py\n            __init__.py\n            plot_directive.py\n        style/\n            __init__.py\n            core.py\n        tri/\n            tripcolor.py\n            tritools.py\n            triplot.py\n            __init__.py\n            tricontour.py\n            trifinder.py\n            triangulation.py\n            trirefine.py\n            triinterpolate.py\n        projections/\n            polar.py\n            geo.py\n            __init__.py\n        axes/\n            _axes.py\n            __init__.py\n            _base.py\n            _secondary_axes.py\n            _subplots.py\n        cbook/\n            __init__.py\n            deprecation.py\nexamples/\n    event_handling/\n        ginput_manual_clabel_sgskip.py\n        coords_demo.py\n        pipong.py\n        looking_glass.py\n        lasso_demo.py\n        data_browser.py\n        pick_event_demo.py\n        keypress_demo.py\n        figure_axes_enter_leave.py\n        viewlims.py\n        close_event.py\n        poly_editor.py\n        image_slices_viewer.py\n        resample.py\n        zoom_window.py\n        pong_sgskip.py\n        timers.py\n        trifinder_event_demo.py\n        legend_picking.py\n        path_editor.py\n        pick_event_demo2.py\n    ticks_and_spines/\n        tick_label_right.py\n        spines_bounds.py\n        tick-formatters.py\n        tick_xlabel_top.py\n        date_demo_convert.py\n        tick_labels_from_values.py\n        auto_ticks.py\n        spine_placement_demo.py\n        centered_ticklabels.py\n        date_concise_formatter.py\n        spines.py\n        spines_dropped.py\n        tick-locators.py\n        major_minor_demo.py\n        ticklabels_rotation.py\n        multiple_yaxis_with_spines.py\n        date_index_formatter2.py\n        colorbar_tick_labelling_demo.py\n        date_demo_rrule.py\n        scalarformatter.py\n        custom_ticker1.py\n    scales/\n        log_bar.py\n        log_test.py\n        log_demo.py\n        symlog_demo.py\n        aspect_loglog.py\n        scales.py\n        custom_scale.py\n        power_norm.py\n    showcase/\n        anatomy.py\n        mandelbrot.py\n        firefox.py\n        xkcd.py\n        integral.py\n        bachelors_degrees_by_gender.py\n    recipes/\n        common_date_problems.py\n        share_axis_lims_views.py\n        placing_text_boxes.py\n        create_subplots.py\n        fill_between_alpha.py\n    subplots_axes_and_figures/\n        invert_axes.py\n        demo_tight_layout.py\n        geo_demo.py\n        gridspec_multicolumn.py\n        gridspec_and_subplots.py\n        custom_figure_class.py\n        fahrenheit_celsius_scales.py\n        axis_equal_demo.py\n        colorbar_placement.py\n        align_labels_demo.py\n        axes_zoom_effect.py\n        two_scales.py\n        multiple_figs_demo.py\n        axes_margins.py\n        gridspec_nested.py\n        zoom_inset_axes.py\n        axes_props.py\n        subplot.py\n        ganged_plots.py\n        subplots_adjust.py\n        subplot_toolbar.py\n        axes_demo.py\n        subplots_demo.py\n        broken_axis.py\n        subplot_demo.py\n        shared_axis_demo.py\n        figure_title.py\n        axhspan_demo.py\n        secondary_axis.py\n        demo_constrained_layout.py\n    style_sheets/\n        fivethirtyeight.py\n        bmh.py\n        style_sheets_reference.py\n        ggplot.py\n        dark_background.py\n        grayscale.py\n        plot_solarizedlight2.py\n    user_interfaces/\n        svg_tooltip_sgskip.py\n        embedding_in_wx4_sgskip.py\n        embedding_in_wx3_sgskip.py\n        canvasagg.py\n        mathtext_wx_sgskip.py\n        svg_histogram_sgskip.py\n        toolmanager_sgskip.py\n        embedding_in_wx2_sgskip.py\n        wxcursor_demo_sgskip.py\n        pylab_with_gtk_sgskip.py\n        embedding_in_wx5_sgskip.py\n        embedding_in_tk_sgskip.py\n        fourier_demo_wx_sgskip.py\n        embedding_in_qt_sgskip.py\n        embedding_in_gtk3_panzoom_sgskip.py\n        mpl_with_glade3_sgskip.py\n        embedding_in_gtk3_sgskip.py\n        gtk_spreadsheet_sgskip.py\n        embedding_webagg_sgskip.py\n    images_contours_and_fields/\n        triplot_demo.py\n        pcolormesh_levels.py\n        layer_images.py\n        barb_demo.py\n        image_transparency_blend.py\n        contour_image.py\n        tricontour_smooth_delaunay.py\n        image_annotated_heatmap.py\n        contour_corner_mask.py\n        demo_bboximage.py\n        interpolation_methods.py\n        contourf_hatching.py\n        tricontour_smooth_user.py\n        image_demo.py\n        tripcolor_demo.py\n        image_zcoord.py\n        plot_streamplot.py\n        barcode_demo.py\n        tricontour_demo.py\n        triinterp_demo.py\n        spy_demos.py\n        figimage_demo.py\n        pcolor_demo.py\n        matshow.py\n        contourf_demo.py\n        image_clip_path.py\n        irregulardatagrid.py\n        watermark_image.py\n        affine_image.py\n        image_nonuniform.py\n        contourf_log.py\n        shading_example.py\n        multi_image.py\n        quiver_demo.py\n        quiver_simple_demo.py\n        image_masked.py\n        contour_demo.py\n        quadmesh_demo.py\n        trigradient_demo.py\n        specgram_demo.py\n        contour_label_demo.py\n    units/\n        annotate_with_units.py\n        bar_unit_demo.py\n        radian_demo.py\n        bar_demo2.py\n        artist_tests.py\n        ellipse_with_units.py\n        units_scatter.py\n        evans_test.py\n        units_sample.py\n        basic_units.py\n    misc/\n        fill_spiral.py\n        keyword_plotting.py\n        svg_filter_pie.py\n        multiprocess_sgskip.py\n        load_converter.py\n        image_thumbnail_sgskip.py\n        multipage_pdf.py\n        zorder_demo.py\n        plotfile_demo.py\n        transoffset.py\n        ftface_props.py\n        pythonic_matplotlib.py\n        findobj_demo.py\n        cursor_demo_sgskip.py\n        hyperlinks_sgskip.py\n        coords_report.py\n        demo_agg_filter.py\n        logos2.py\n        contour_manual.py\n        custom_projection.py\n        font_indexing.py\n        anchored_artists.py\n        set_and_get.py\n        demo_ribbon_box.py\n        bbox_intersect.py\n        print_stdout_sgskip.py\n        rasterization_demo.py\n        table_demo.py\n        customize_rc.py\n        histogram_path.py\n        agg_buffer.py\n        svg_filter_line.py\n        patheffect_demo.py\n        agg_buffer_to_array.py\n    pyplots/\n        fig_axes_customize_simple.py\n        align_ylabels.py\n        pyplot_two_subplots.py\n        pyplot_text.py\n        whats_new_1_subplot3d.py\n        pyplot_three.py\n        whats_new_98_4_fill_between.py\n        whats_new_98_4_legend.py\n        boxplot_demo_pyplot.py\n        annotation_basic.py\n        whats_new_99_mplot3d.py\n        whats_new_98_4_fancy.py\n        fig_axes_labels_simple.py\n        pyplot_simple.py\n        fig_x.py\n        annotate_transform.py\n        whats_new_99_axes_grid.py\n        auto_subplots_adjust.py\n        pyplot_mathtext.py\n        dollar_ticks.py\n        text_commands.py\n        annotation_polar.py\n        whats_new_99_spines.py\n        text_layout.py\n        pyplot_formatstr.py\n    text_labels_and_annotations/\n        dashpointlabel.py\n        fancyarrow_demo.py\n        font_family_rc_sgskip.py\n        font_table.py\n        mathtext_examples.py\n        date.py\n        stix_fonts_demo.py\n        usetex_demo.py\n        titles_demo.py\n        dfrac_demo.py\n        legend_demo.py\n        accented_text.py\n        arrow_demo.py\n        autowrap.py\n        fonts_demo_kw.py\n        mathtext_demo.py\n        custom_legends.py\n        unicode_minus.py\n        font_file.py\n        legend.py\n        engineering_formatter.py\n        line_with_text.py\n        usetex_fonteffects.py\n        fancytextbox_demo.py\n        demo_annotation_box.py\n        multiline.py\n        arrow_simple_demo.py\n        figlegend_demo.py\n        demo_text_path.py\n        mathtext_asarray.py\n        watermark_text.py\n        rainbow_text.py\n        text_rotation_relative_to_line.py\n        annotation_demo.py\n        demo_text_rotation_mode.py\n        text_rotation.py\n        text_fontdict.py\n        fonts_demo.py\n        text_alignment.py\n        usetex_baseline_test.py\n        tex_demo.py\n        date_index_formatter.py\n    axes_grid1/\n        demo_colorbar_with_axes_divider.py\n        scatter_hist_locatable_axes.py\n        simple_axisline4.py\n        demo_fixed_size_axes.py\n        simple_rgb.py\n        demo_colorbar_with_inset_locator.py\n        make_room_for_ylabel_using_axesgrid.py\n        simple_axesgrid.py\n        demo_axes_hbox_divider.py\n        demo_axes_grid2.py\n        simple_anchored_artists.py\n        parasite_simple.py\n        demo_imagegrid_aspect.py\n        simple_colorbar.py\n        demo_axes_divider.py\n        simple_axes_divider2.py\n        demo_axes_grid.py\n        inset_locator_demo.py\n        simple_axesgrid2.py\n        demo_anchored_direction_arrows.py\n        parasite_simple2.py\n        inset_locator_demo2.py\n        simple_axes_divider3.py\n        simple_axes_divider1.py\n        demo_colorbar_of_inset_axes.py\n        demo_edge_colorbar.py\n        demo_axes_rgb.py\n    userdemo/\n        annotate_simple_coord01.py\n        colormap_normalizations.py\n        connectionstyle_demo.py\n        pgf_texsystem.py\n        colormap_normalizations_diverging.py\n        colormap_normalizations_lognorm.py\n        custom_boxstyle01.py\n        annotate_simple_coord03.py\n        anchored_box03.py\n        annotate_simple04.py\n        anchored_box04.py\n        pgf_fonts.py\n        annotate_simple03.py\n        connect_simple01.py\n        pgf_preamble_sgskip.py\n        anchored_box01.py\n        annotate_simple_coord02.py\n        annotate_text_arrow.py\n        colormap_normalizations_custom.py\n        colormap_normalizations_bounds.py\n        annotate_simple02.py\n        simple_annotate01.py\n        demo_gridspec06.py\n        colormap_normalizations_power.py\n        anchored_box02.py\n        demo_gridspec01.py\n        simple_legend02.py\n        annotate_explain.py\n        colormap_normalizations_symlognorm.py\n        custom_boxstyle02.py\n        annotate_simple01.py\n        simple_legend01.py\n        demo_gridspec03.py\n    frontpage/\n        histogram.py\n        3D.py\n        contour.py\n        membrane.py\n    mplot3d/\n        bars3d.py\n        subplot3d.py\n        wire3d_animation_sgskip.py\n        pathpatch3d.py\n        wire3d.py\n        quiver3d.py\n        mixed_subplots.py\n        rotate_axes3d_sgskip.py\n        offset.py\n        scatter3d.py\n        hist3d.py\n        surface3d_radial.py\n        custom_shaded_3d_surface.py\n        surface3d_3.py\n        contourf3d_2.py\n        tricontourf3d.py\n        voxels.py\n        voxels_torus.py\n        voxels_numpy_logo.py\n        3d_bars.py\n        wire3d_zero_stride.py\n        contour3d_2.py\n        lorenz_attractor.py\n        contourf3d.py\n        contour3d_3.py\n        polys3d.py\n        surface3d.py\n        text3d.py\n        voxels_rgb.py\n        surface3d_2.py\n        contour3d.py\n        trisurf3d_2.py\n        trisurf3d.py\n        tricontour3d.py\n        2dcollections3d.py\n        lines3d.py\n    specialty_plots/\n        sankey_rankine.py\n        radar_chart.py\n        leftventricle_bulleye.py\n        skewt.py\n        sankey_links.py\n        sankey_basics.py\n        topographic_hillshading.py\n        advanced_hillshading.py\n        anscombe.py\n        mri_demo.py\n        hinton_demo.py\n        mri_with_eeg.py\n    statistics/\n        violinplot.py\n        bxp.py\n        hexbin_demo.py\n        boxplot_vs_violin.py\n        errorbar_limits.py\n        hist.py\n        errorbar.py\n        barchart_demo.py\n        histogram_cumulative.py\n        confidence_ellipse.py\n        histogram_features.py\n        histogram_histtypes.py\n        histogram_multihist.py\n        boxplot.py\n        errorbars_and_boxes.py\n        multiple_histograms_side_by_side.py\n        errorbar_features.py\n        boxplot_color.py\n        customized_violin.py\n        boxplot_demo.py\n    widgets/\n        menu.py\n        cursor.py\n        multicursor.py\n        rectangle_selector.py\n        check_buttons.py\n        radio_buttons.py\n        span_selector.py\n        polygon_selector_demo.py\n        buttons.py\n        lasso_selector_demo_sgskip.py\n        slider_demo.py\n        textbox.py\n    color/\n        custom_cmap.py\n        color_cycler.py\n        color_cycle_default.py\n        colormap_reference.py\n        color_by_yvalue.py\n        colorbar_basics.py\n        color_demo.py\n        named_colors.py\n    shapes_and_collections/\n        dolphin.py\n        path_patch.py\n        quad_bezier.py\n        donut.py\n        patch_collection.py\n        artist_reference.py\n        line_collection.py\n        arrow_guide.py\n        hatch_demo.py\n        ellipse_demo.py\n        scatter.py\n        ellipse_collection.py\n        collections.py\n        fancybox_demo.py\n        marker_path.py\n        compound_path.py\n    lines_bars_and_markers/\n        joinstyle.py\n        stackplot_demo.py\n        marker_reference.py\n        errorbar_limits_simple.py\n        timeline.py\n        masked_demo.py\n        broken_barh.py\n        xcorr_acorr_demo.py\n        eventplot_demo.py\n        scatter_piecharts.py\n        errorbar_subsample.py\n        categorical_variables.py\n        barchart.py\n        markevery_prop_cycle.py\n        eventcollection_demo.py\n        simple_plot.py\n        scatter_symbol.py\n        line_demo_dash_control.py\n        marker_fillstyle_reference.py\n        spectrum_demo.py\n        barh.py\n        markevery_demo.py\n        multicolored_line.py\n        gradient_bar.py\n        fill_betweenx_demo.py\n        nan_test.py\n        scatter_custom_symbol.py\n        csd_demo.py\n        filled_step.py\n        psd_demo.py\n        step_demo.py\n        scatter_star_poly.py\n        linestyles.py\n        scatter_with_legend.py\n        fill.py\n        scatter_hist.py\n        vline_hline_demo.py\n        scatter_masked.py\n        span_regions.py\n        scatter_demo2.py\n        bar_stacked.py\n        stem_plot.py\n        cohere.py\n        fill_between_demo.py\n    pie_and_polar_charts/\n        polar_scatter.py\n        pie_features.py\n        polar_legend.py\n        polar_demo.py\n        polar_bar.py\n        bar_of_pie.py\n        pie_and_donut_labels.py\n        pie_demo2.py\n        nested_pie.py\n    axisartist/\n        demo_floating_axes.py\n        demo_curvelinear_grid.py\n        simple_axisline2.py\n        demo_axisline_style.py\n        demo_floating_axis.py\n        axis_direction_demo_step03.py\n        simple_axisline.py\n        axis_direction_demo_step04.py\n        simple_axisartist1.py\n        simple_axisline3.py\n        axis_direction_demo_step01.py\n        demo_ticklabel_alignment.py\n        demo_parasite_axes2.py\n        simple_axis_direction03.py\n        axis_direction_demo_step02.py\n        demo_parasite_axes.py\n        demo_curvelinear_grid2.py\n        simple_axis_pad.py\n        demo_ticklabel_direction.py\n        demo_axis_direction.py\n        simple_axis_direction01.py\n    animation/\n        random_walk.py\n        rain.py\n        animated_histogram.py\n        unchained.py\n        bayes_update.py\n        frame_grabbing_sgskip.py\n        strip_chart.py\n        double_pendulum_sgskip.py\n        animate_decay.py\n        dynamic_image.py\n        simple_anim.py\n        animation_demo.py\n\n###\n\nPlease only provide the full path and return at most 5 files.\nThe returned files should be separated by new lines ordered by most to least important and wrapped with ```\nFor example:\n```\nfile1.py\nfile2.py\n```", "num_tokens of the message": 5373}
